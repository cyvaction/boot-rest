!function(a,b){"use strict";b.module("yoaControllers",[]),b.module("yoaDirectives",[]),b.module("yoaModels",["ngResource"]);var c=b.module("yoaApp",["ngCookies","ngSanitize","ngRoute","xeditable","yoaControllers","yoaDirectives","yoaModels"]);c.config(["$locationProvider","$routeProvider",function(a,b){a.hashPrefix("!"),b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),c.run(["editableOptions",function(a){a.theme="bs3"}])}(window,window.angular),function(a,b,c){"use strict";var d=function(){b.element("#new-message-input").focus()},e=function(){b.element("#input-validation-modal").modal({show:!0}).on("hidden.bs.modal",function(){d()})};b.module("yoaControllers").controller("MainCtrl",["$scope","$log","Message",function(a,b,f){a.messages=[],a.newMessage={body:""},d(),a.loadMessages=function(){a.messages=f.query(function(a){b.debug("Number of messages to display:",a.length)})},a.loadMessages(),a.$watch("messages",function(b,e){var f=b&&e&&b.length===e.length&&b!==e;f&&c(b).each(function(b){var f=c(e).find({id:b.id}),g=f&&f.body!==b.body;g&&b.$update(function(b){var e=c(a.messages).findIndex({id:b.id});a.messages[e]=b,d()})})},!0),a.saveNewMessage=function(){return a.messageForm.body.$valid?void f.save(a.newMessage,function(b){a.newMessage.body="",a.messages.push(b)}):void e()},a.deleteMessage=function(b){b.$delete(function(){c(a.messages).remove(function(a){return a.id===b.id}),d()})}}])}(window,window.angular,window._),function(a,b){"use strict";b.module("yoaDirectives").directive("bsTooltip",function(){return function(a,b){b.find("[data-toggle=tooltip]").tooltip()}})}(window,window.angular),function(a,b){"use strict";b.module("yoaModels").factory("Message",["$resource",function(a){return a("/api/messages/:messageId",{messageId:"@id"},{update:{method:"PUT"}})}])}(window,window.angular);